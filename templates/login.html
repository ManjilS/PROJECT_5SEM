<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
   <title>School Management System - Login</title>

   <link rel="shortcut icon" href="{% static 'assets/img/favicon.png' %}">
   <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">      
   <link rel="stylesheet" href="{% static 'assets/plugins/bootstrap/css/bootstrap.min.css' %}">
   <link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
   <link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/all.min.css' %}">
   <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">

   <style>
      .login-logo:hover {
         transform: scale(1.05);
         transition: transform 0.3s ease-in-out;
      }
   </style>
</head>
<body>
   <div class="main-wrapper login-body">
      <div class="login-wrapper">
         <div class="container">
            <div class="loginbox">

               <!-- Left panel (optional logo or image) -->
               <div class="login-left">
                  <!-- You can remove this if not needed -->
                  <!-- <img class="img-fluid" src="{% static 'assets/img/logo1.png' %}" alt="Logo"> -->
               </div>

               <!-- Right panel (Login form + centered logo) -->
               <div class="login-right">
                  <div class="login-right-wrap">

                     <!-- âœ… Centered Logo Inside Login Form Container -->
                     <div class="text-center mb-4 p-4 rounded shadow-sm" >
                        <img class="img-fluid login-logo" src="{% static 'assets/img/logo1.png' %}" alt="Logo"
                           style="max-width: 180px; height: auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);">
                     </div>

                     <!-- Login Title -->
                     <h1>Login</h1>
                     <p class="account-subtitle">Access to our dashboard</p>

                     <!-- Show messages if there are any -->
                     {% if messages %}
                        {% for message in messages %}
                           <div class="alert alert-danger" role="alert">
                              {{ message }}
                           </div>
                        {% endfor %}
                     {% endif %}

                     <!-- Optional close button script for alerts -->
                     <script>
                        document.addEventListener('DOMContentLoaded', function() {
                           document.querySelectorAll('.alert').forEach(function(alert) {
                              var btn = document.createElement('button');
                              btn.type = 'button';
                              btn.className = 'close';
                              btn.setAttribute('data-dismiss', 'alert');
                              btn.innerHTML = '&times;';
                              btn.onclick = function () {
                                 alert.style.display = 'none';
                              };
                              alert.insertBefore(btn, alert.firstChild);
                           });
                        });
                     </script>

                     <!-- Login Form -->
                     <form action="{% url 'doLogin' %}" method="post">
                        {% csrf_token %}
                        <div class="form-group">
                           <input class="form-control" type="email" placeholder="Email" name="email" required>
                        </div>
                        <div class="form-group">
                           <input class="form-control" type="password" placeholder="Password" name="password" required>
                        </div>
                        <div class="form-group">
                           <select class="form-control" name="user_role" required>
                              <option value="">Select Role</option>
                              <option value="1">Admin</option>
                              <option value="2">Teacher</option>
                              <option value="3">Student</option>
                           </select>
                        </div>
                        <div class="form-group">
                           <button class="btn btn-primary btn-block" type="submit" value="login">Login</button>
                        </div>
                     </form>
                  </div>
               </div>

            </div>
         </div>
      </div>
   </div>

   <!-- Scripts -->
   <script src="{% static 'assets/js/jquery-3.6.0.min.js' %}"></script>
   <script src="{% static 'assets/js/popper.min.js' %}"></script>
   <script src="{% static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>
   <script src="{% static 'assets/js/script.js' %}"></script>
</body>
</html>
